# Key = Category
# TAGS:
# @CWIDTH : Capture Width
# @CHEIGHT: Capture Height
# @SEEK : Starting seek position
# @FILE: source input file
# @OWIDTH: Width of the output image
# @OHEIGHT: Height of the output image
# @RATE: Frame rate
# @VPORT: Port used for receiving video data
# @APORT: Port used for receiving audio data
# @VCODEC: Video codec (FME)
# ACODEC: Audio codec (FME)
# @VBITRATE: Video bitrate (FME)
# @ABITRATE: Audio bitrate (FME);
# Correct Ustream URL: "@URL flashver=FME/2.5\20(compatible;\20FMSc\201.0)"
# One that works: avconv -v 0 -f alsa -ar 22050 -ac 2 -i pulse -f video4linux2 -s 320x240 -i /dev/video1 -r 25 -f flv -g 150 -b 650k -ab 96k @URL
# Testing Purpose: broadcast=cvlc v4l2:///dev/video1 :input-slave=alsa://pulse :live-caching=8192 --sout="#transcode{venc=x264{profile=baseline, preset=superfast}, vcodec=h264, vb=@VBITRATE, fps=@RATE, width=@CWIDTH, height=@CHEIGHT, acodec=aac, ab=96, channels=2, samplerate=@FREQ} :std{access=rtmp,mux=ffmpeg{mux=flv}, dst=@URL flashver=FME/2.5\20(compatible;\20FMSc\201.0)}"
# Testing Purpose: broadcast=cvlc tcp://127.0.0.1:@VPORT :input-slave=tcp://127.0.0.1:@APORT :live-caching=8192 --sout="#transcode{venc=x264{profile=baseline, preset=superfast}, vcodec=h264, vb=@VBITRATE, fps=@RATE, width=@CWIDTH, height=@CHEIGHT, acodec=aac, ab=@ABITRATE, channels=2, samplerate=@FREQ} :std{access=rtmp,mux=ffmpeg{mux=flv}, dst=@URL flashver=FME/2.5\20(compatible;\20FMSc\201.0)}"
# Testing Purpose: broadcast=gnome-terminal -x avconv -v debug -f alsa -ar @FREQ -ac @CHANNELS -i pulse -f video4linux2 -s @CWIDTHx@CHEIGHT -i /dev/video1 -r @RATE -f flv -g 150 -b @VBITRATEk -ab @ABITRATEk @URL
file=avconv -v 0 -s @CWIDTHx@CHEIGHT -r @RATE  -f rawvideo -pix_fmt rgb24  -i tcp://127.0.0.1:@VPORT -ar @FREQ -ac @CHANNELS -f s@BITSIZEbe -i tcp://127.0.0.1:@APORT -b 1200k -ac 2 -ar 22050 -ab 128k -y @FILE
#broadcast=ffmpeg -v 0 -s @CWIDTHx@CHEIGHT -r @RATE  -f rawvideo -pix_fmt argb  -i tcp://127.0.0.1:@VPORT -ar @FREQ -ac @CHANNELS -f s@BITSIZEbe -ar 22050 -i tcp://127.0.0.1:@APORT -b @VBITRATEk -f flv -ab @ABITRATEk @URL
broadcast=avconv -v 0 -s @CWIDTHx@CHEIGHT -r @RATE  -f rawvideo -pix_fmt rgb24  -i tcp://127.0.0.1:@VPORT -ar @FREQ -ac @CHANNELS -f s@BITSIZEbe -i tcp://127.0.0.1:@APORT -f flv -g 150 -b @VBITRATEk -ab @ABITRATEk @URL
#GSTestcvlc=gnome-terminal -x gst-launch-1.0 tcpclientsrc port=@VPORT ! video/x-raw-rgb,width=@CWIDTH,height=@CHEIGHT,depth=24,bpp=24,blue_mask=255,green_mask=65280,red_mask=16711680,framerate=\(fraction\)@RATE/1 ! videoconvert ! avenc_flv ! flvmux name=mux ! filesink location=/home/atari/GS.flv tcpclientsrc port=@APORT ! audio/x-raw-int,rate=22050,channels=2,signed=true,width=16,depth=16,endianness=4321 ! audioconvert ! avenc_aac ! mux.
#broadcast=gst-launch-0.10 tcpclientsrc port=@VPORT ! video/x-raw-rgb,width=@WIDTH,height=@HEIGHT,depth=24,bpp=24,blue_mask=255,green_mask=65280,red_mask=16711680 ! ffenc_flv ! flvmux name=mux ! rtmpsink location='"@URL flashver=FME/2.5\20(compatible;\20FMSc\201.0)"' tcpclientsrc port=@APORT ! audio/x-raw-int,rate=22050,channels=2,signed=true,width=16,depth=16,endianness=4321 ! ffenc_aac ! mux.
#Some tag translation
#cvlc=gnome-terminal -x cvlc -vv tcp://127.0.0.1:@VPORT :demux=rawdv :input-slave=tcp://127.0.0.1:@APORT :demux=rawdv --rawdv-hurry-up --ftp-caching 10000 :live-caching=4096 --sout="#transcode{vcodec=h264,venc=x264{preset=superfast},vb=600,ab=128,fps=@RATE,width=@CWIDTH,height=@CHEIGHT,acodec=mp4a,samplerate=@FREQ} :duplicate{dst=std{access=http,dst=/stream.flv},dst=std{access=http,mux=flv}" --sout-keep
#cvlv=gnome-terminal -x cvlc v4l2:///dev/video1 :input-slave=alsa://pulse  :live-caching=8192 --sout="#transcode{vcodec=h264,venc=x264{preset=superfast},vb=600,ab=128,audio-sync=1,fps=25,width=360,height=240,acodec=aac,samplerate=22050} :duplicate{dst=std{access=http,dst=/stream.flv},dst=std{access=http,mux=flv}" --sout-all --sout-keep
#cvlc=gnome-terminal -x gst-launch-0.10 tcpclientsrc port=@VPORT ! video/x-raw-rgb,width=@CWIDTH,height=@CHEIGHT,depth=24,bpp=24,blue_mask=255,green_mask=65280,red_mask=16711680 ! ffenc_flv ! flvmux name=mux ! souphttpclientsink location=http://127.0.0.1:8080 tcpclientsrc port=@APORT ! audio/x-raw-int,rate=22050,channels=2,signed=true,width=16,depth=16,endianness=4321 ! ffenc_aac ! mux.
#cvlc=gnome-terminal -x gst-launch-0.10 tcpclientsrc port=@VPORT ! videorate ! video/x-raw-rgb, framerate=@RATE/1, width=@CWIDTH, height=@CHEIGHT, depth=24, bpp=24, blue_mask=255, green_mask=65280, red_mask=16711680 ! ffmpegcolorspace ! x264enc ! flvmux name=mux ! souphttpclientsink location=http://127.0.0.1:8080 tcpclientsrc port=@APORT ! audio/x-raw-int,rate=22050,channels=2,signed=true,width=16,depth=16,endianness=4321 ! audioconvert ! ffenc_aac ! mux.
#cvlc=gnome-terminal -x gst-launch-0.10 tcpclientsrc port=@VPORT ! video/x-raw-rgb,framerate=(fraction)@RATE/1,width=360,height=240,depth=24,bpp=24,blue_mask=255,green_mask=65280,red_mask=16711680 ! videorate ! ffmpegcolorspace ! x264enc ! queue ! flvmux name=mux tcpclientsrc port=@APORT ! audio/x-raw-int,rate=22050,channels=2,signed=true,width=16,depth=16,endianness=4321 ! audioconvert ! ffenc_aac ! queue ! mux. mux. ! souphttpclientsink location=http://127.0.0.1:8080
#cvlc=gnome-terminal -x gst-launch-0.10 -v tcpclientsrc port=@VPORT ! video/x-raw-rgb,width=@CWIDTH,height=@CHEIGHT,depth=24,bpp=24,blue_mask=255,green_mask=65280,red_mask=16711680,framerate=(fraction)@RATE/1 ! ffmpegcolorspace ! ffenc_flv ! queue ! flvmux name=mux tcpclientsrc port=@APORT ! audio/x-raw-int,rate=22050,channels=2,signed=true,width=16,depth=16,endianness=4321 ! audioconvert ! ffenc_aac ! queue ! mux. mux. ! filesink location=/home/atari/GS.flv
#cvlc=gnome-terminal -x gst-launch-0.10 -v tcpclientsrc port=@VPORT ! video/x-raw-rgb,width=@CWIDTH,height=@CHEIGHT,depth=24,bpp=24,blue_mask=255,green_mask=65280,red_mask=16711680,framerate=(fraction)@RATE/1 ! ffmpegcolorspace ! ffenc_flv ! flvmux name=mux ! filesink location=/home/atari/GS.flv tcpclientsrc port=@APORT ! audio/x-raw-int,rate=22050,channels=2,signed=true,width=16,depth=16,endianness=4321 ! audioconvert ! ffenc_aac ! mux.
#cvlc=gnome-terminal -x gst-launch-0.10 -v tcpclientsrc port=@VPORT ! ffmpegcolorspace ! videorate ! videoscale ! video/x-raw-rgb,width=@CWIDTH,height=@CHEIGHT,depth=24,bpp=24,blue_mask=255,green_mask=65280,red_mask=16711680,framerate=\(fraction\)@RATE/1,endianness=4321 ! ffmpegcolorspace ! videorate ! videoscale ! decodebin2 ! ffenc_flv ! queue max-size-buffers=0 max-size-time=0 ! flvmux name=mux ! filesink location=/home/atari/GS.flv tcpclientsrc port=@APORT ! audio/x-raw-int,rate=22050,channels=2,signed=true,width=16,depth=16,endianness=4321 ! audioconvert ! ffenc_aac ! queue max-size-buffers=0 max-size-time=0 ! mux. mux.
#cvlc=gnome-terminal -x gst-launch-0.10 -v tcpclientsrc port=@VPORT ! video/x-raw-rgb,width=@CWIDTH,height=@CHEIGHT,depth=24,bpp=24,blue_mask=255,green_mask=65280,red_mask=16711680,framerate=\(fraction\)@RATE/1 ! ffmpegcolorspace ! decodebin2 ! x264enc ! queue max-size-buffers=0 max-size-time=0 ! flvmux name=mux tcpclientsrc port=@APORT ! audio/x-raw-int,rate=22050,channels=2,signed=true,width=16,depth=16,endianness=4321 ! audioconvert ! ffenc_aac ! queue max-size-buffers=0 max-size-time=0 ! mux. mux. ! filesink location=/home/atari/GS.flv
#cvlc=gnome-terminal -x gst-launch-0.10 --gst-debug-level=2 tcpclientsrc port=@VPORT ! queue max-size-buffers=0 max-size-time=0 ! video/x-raw-rgb,width=@OWIDTH,height=@OHEIGHT,depth=24,bpp=24,blue_mask=255,green_mask=65280,red_mask=16711680 ! videoscale ! video/x-raw-rgb,framerate=\(fraction\)@RATE/1 ! videorate ! ffmpegcolorspace ! ffenc_flv ! queue max-size-buffers=0 max-size-time=0 ! flvmux name=mux tcpclientsrc port=@APORT ! audio/x-raw-int,rate=22050,channels=2,signed=true,width=16,depth=16,endianness=4321 ! audioconvert ! ffenc_aac ! queue max-size-buffers=0 max-size-time=0 ! mux. mux. ! filesink location=/home/atari/GS.flv
#cvlc=gnome-terminal -x avconv -s @CWIDTHx@CHEIGHT -r @RATE  -f rawvideo -pix_fmt rgb24  -i tcp://127.0.0.1:@VPORT -ar @FREQ -ac @CHANNELS -f s@BITSIZEbe -i tcp://127.0.0.1:@APORT -f mpegts udp://127.0.0.1:8080
#cvlc=gnome-terminal -x avconv -s @CWIDTHx@CHEIGHT -r @RATE  -f rawvideo -pix_fmt rgb24  -i tcp://127.0.0.1:@VPORT -vcodec libx264 -ar @FREQ -ac @CHANNELS -f s@BITSIZEbe -i tcp://127.0.0.1:@APORT -acodec libaac -f mpegts "udp://127.0.0.1:8080/stream.flv flashver=FME/2.5\20(compatible;\20FMSc\201.0)"
#cvlc=gnome-terminal -x avconv -s @CWIDTHx@CHEIGHT -r @RATE  -f rawvideo -pix_fmt rgb24  -i tcp://127.0.0.1:@VPORT -vcodec libx264 -ar @FREQ -ac @CHANNELS -f s@BITSIZEbe -i tcp://127.0.0.1:@APORT -acodec libmp3lame -f mpegts -g 150 -b 650k -ab 96k udp://127.0.0.1:8080/stream.mpg
udp=avconv -v 0 -s @CWIDTHx@CHEIGHT -r @RATE  -f rawvideo -pix_fmt rgb24  -i tcp://127.0.0.1:@VPORT -ar @FREQ -ac @CHANNELS -f s@BITSIZEbe -i tcp://127.0.0.1:@APORT -g 150 -b 650k -ab 96k -f mpegts udp://127.0.0.1:7000
! videorate ! video/x-raw-yuv,framerate=@RATE/1 !ffmpegcolorspace // framerate=(fraction)@RATE -minrate 200000 -maxrate 200000 -bufsize 2000000 
TAG_MP3=libmp3lame
TAG_VP6=flv
TAG_H_264=flv
#libx264 -vpre baseline /////// \(fraction\)